<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="css/home.css" />
    <title>Pomodoro 2: Tokyo Drift</title>
  </head>
  <body onload="getsettings();loadHistory('./json/seshistory.json');">
    <div class = "banner"><h1 id="status">Welcome to Pomodoro2 Tokyo Drift</h1></div>


    <div id="SideMenu" class="sidebar">
      <button onclick="openModal('SetSessionModal')">Set Session</button>
      <button onclick="openModal('HistoryModal')">Session History</button>
      <p>Current Session Info </p>
      <p id = "worktime"></p>
      <p id = "shortbreak"></p>
      <p id = "longbreak"></p>
      <p id = "workp"></p>

    </div>

    <div id="hamburger">
      <button class="toggleMenuBtn" onclick="toggleMenu()">☰ </button>  
    </div>

    <div class="secs" id="mainsec">
      <div id="container">
        <img id="tomato_img" src="images/tomato_tran.png" />
        
         <button id = "startSessionBtn" onclick = "goToPomo();">Start Session</button>
        
      </div>

    </div>
    <div class = "secs" id = "nameSec">
      <input id="sessionName" type="text" value="Default Pomodoro Session" /> 
    </div>

    <div id="SetSessionModal" class="modal">

      <div class="modal-content">
        <span class="close" onclick="closeModal('SetSessionModal')">x</span>
         
          <b>I want to work for <input id="pomo_length" type="number" min="1" max="60" value="25" /> minutes. </b><br>
          
          <b> Have a short break for <input id="sbreak_length" type="number" min="1" max="60" value="5" /> minutes.</b> <br>
  
          <b>And have a long break for <input id="lbreak_length" type="number" min="1" max="60" value="15" /> minutes if I finished 4 break sessions. </b><br>
  
          <b>I want to have <input id="work_periods" type="number" min="1" max="60" value="4" /> work periods in total. </b><br>
  
          <button onclick="startsess()">GO!</button>
      </div>
    
    </div>
    
    <div id="HistoryModal" class="modal">

      <div class="modal-content" id = "HistoryModalContent">
        <span class="close" onclick="closeModal('HistoryModal')">x</span>
        
        <button class = "collapsibleBtn" id = "dummyBtn" onclick="expand(this);">Date Dummy</button>
        <div class = "coll-content" id = "dummyContent">
          <p>Task: "Putting together a pitch for CSE 210"</p>
          <p>Started work at 12:30 AM.</p>
          <p>4 work periods of length 25 minutes</p>
          <p>separated by 5-minute breaks.</p>  
        </div>
        
      </div>
    
    </div>


    <!--
    <div class="secs" id="getbuttonsec">
      <button id="getsecbut" onclick="getSession();">
        <img id="set_img" src="images/set_button.png" />
      </button>
    </div>
    -->
    <script src = "js/savesession.js"></script>
    <script src = "js/setsession.js"></script>
    <script type="text/javascript">

        function expand(btn){
          var content = btn.nextElementSibling;
          if (content.style.display == "block"){
              content.style.display = "none";
            }else{
              content.style.display = "block";
            }
        };

        var menu_open = 0;

        function toggleMenu(){
            if (menu_open == 0){
                openNav();
                menu_open = 1;
            }else{
                closeNav();
                menu_open = 0; 
            }
        }
        function openNav() {
          
          document.getElementById("SideMenu").style.width = "250px";
          document.getElementById("hamburger").style.marginLeft = "250px";
        }
        
        function closeNav() {
          document.getElementById("SideMenu").style.width = "0";
          document.getElementById("hamburger").style.marginLeft= "0";
        }
        function closeModal(modalID){
           document.getElementById(modalID).style.display = "none";
        }
        function openModal(modalID){
            document.getElementById(modalID).style.display = "block";
        }

    </script>
  </body>
</html>